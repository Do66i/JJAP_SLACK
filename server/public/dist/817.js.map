{"version":3,"file":"817.js","mappings":"2oCA4EA,UApEc,WACZ,OAAgCA,EAAAA,EAAAA,IAAO,aAAcC,EAAAA,EAAS,CAAEC,iBAAkB,MAA1EC,EAAR,EAAQA,KAAaC,GAArB,EAAcC,MAAd,EAAqBD,QACrB,KAA+BE,EAAAA,EAAAA,GAAS,IAAxC,GAAOC,EAAP,KAAcC,EAAd,KACA,KAAqCF,EAAAA,EAAAA,GAAS,IAA9C,GAAOG,EAAP,KAAiBC,EAAjB,KACA,KAAoCC,EAAAA,EAAAA,WAAS,GAA7C,GAAOC,EAAP,KAAmBC,EAAnB,KAEMC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACJb,GACFW,EAAS,kCAKV,CAACX,IAEJ,IAAMc,GAAWC,EAAAA,EAAAA,cACf,SAACC,GACCA,EAAEC,iBACFP,GAAc,GACdQ,IAAAA,KAEI,mBACA,CAAEd,MAAAA,EAAOE,SAAAA,GACT,CACEa,iBAAiB,IAGpBC,MAAK,SAACC,GACLpB,EAAOoB,EAASrB,MAChBsB,QAAQC,IAAI,UAAWvB,MAExBwB,OAAM,SAACC,GACNH,QAAQC,IAAI,OAAQE,EAAIJ,SAASrB,SAElC0B,SAAQ,iBAEb,CAACtB,EAAOE,IAGV,OACE,uBAAKqB,GAAG,aACN,gBAAC,KAAD,mBACA,gBAAC,KAAD,CAAMb,SAAUA,GACd,gBAAC,KAAD,CAAOa,GAAG,eACR,sCACA,2BACE,gBAAC,KAAD,CAAOC,aAAa,QAAQC,KAAK,QAAQF,GAAG,QAAQG,MAAO1B,EAAO2B,SAAU1B,MAGhF,gBAAC,KAAD,CAAOsB,GAAG,kBACR,oCACA,2BACE,gBAAC,KAAD,CAAOC,aAAa,QAAQC,KAAK,WAAWF,GAAG,WAAWG,MAAOxB,EAAUyB,SAAUxB,KAEtFE,GAAc,gBAAC,KAAD,mCAEjB,gBAAC,KAAD,CAAQoB,KAAK,UAAb,QAEF,gBAAC,KAAD,qBAEE,gBAAC,KAAD,CAAMG,GAAG,WAAT","sources":["webpack://alecture/./pages/Login/index.tsx"],"sourcesContent":["import useInput from '@hooks/useInput';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { Success, Form, Error, Label, Input, LinkContainer, Button, Header } from '@pages/SignUp/styles';\nimport useSWR from 'swr';\nimport fetcher from '@utils/fetcher';\n\nconst LogIn = () => {\n  const { data, error, mutate } = useSWR('/api/users', fetcher, { dedupingInterval: 100000 }); //로그인 후에 데이터를 전해줄 API\n  const [email, onChangeEmail] = useInput('');\n  const [password, onChangePassword] = useInput('');\n  const [logInError, setLogInError] = useState(false);\n\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (data) {\n      navigate('/workspace/sleact/channel/일반');\n      return;\n    }\n    // 로그인전일때 data=false(api문서 참고)니까 실행안되고 패스됨\n    //로그인되면 if문에서 걸림 리턴값나옴\n  }, [data]);\n\n  const onSubmit = useCallback(\n    (e: any) => {\n      e.preventDefault();\n      setLogInError(false);\n      axios\n        .post(\n          '/api/users/login',\n          { email, password },\n          {\n            withCredentials: true,\n          },\n        )\n        .then((response) => {\n          mutate(response.data); // OPTIMISTIC UI\n          console.log('로그인 성공띠', data);\n        })\n        .catch((err) => {\n          console.log('ㅋ 루저', err.response.data);\n        })\n        .finally(() => {});\n    },\n    [email, password],\n  );\n\n  return (\n    <div id=\"container\">\n      <Header>JJAP SLACK</Header>\n      <Form onSubmit={onSubmit}>\n        <Label id=\"email-label\">\n          <span>이메일 주소</span>\n          <div>\n            <Input autoComplete=\"false\" type=\"email\" id=\"email\" value={email} onChange={onChangeEmail} />\n          </div>\n        </Label>\n        <Label id=\"password-label\">\n          <span>비밀번호</span>\n          <div>\n            <Input autoComplete=\"false\" type=\"password\" id=\"password\" value={password} onChange={onChangePassword} />\n          </div>\n          {logInError && <Error>이메일과 비밀번호 둘 중 하나 틀림 입.구.컷</Error>}\n        </Label>\n        <Button type=\"submit\">로그인</Button>\n      </Form>\n      <LinkContainer>\n        아직 식구가 아닌가봐요?\n        <Link to=\"/signup\">회원가입 하러가기</Link>\n      </LinkContainer>\n    </div>\n  );\n};\n\nexport default LogIn;\n"],"names":["useSWR","fetcher","dedupingInterval","data","mutate","error","useInput","email","onChangeEmail","password","onChangePassword","useState","logInError","setLogInError","navigate","useNavigate","useEffect","onSubmit","useCallback","e","preventDefault","axios","withCredentials","then","response","console","log","catch","err","finally","id","autoComplete","type","value","onChange","to"],"sourceRoot":""}